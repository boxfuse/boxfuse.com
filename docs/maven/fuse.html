---
layout: maven
pill: fuse
---
<img src="/assets/img/commands/fuse.png" alt="fuse">

<p class="doc-section">boxfuse:fuse</p>

<p>Fuses a <em>Payload</em> together with the <em>Components</em> it requires into an <em>Image</em>.</p>

<p><strong>Usage: </strong> mvn boxfuse:fuse -Dboxfuse.payload=<em>payload</em></p>

<p>When run as part of a build, the project artifact will automatically be used as a payload.</p>

<pre class="console">&gt; mvn boxfuse:fuse -Dboxfuse.payload=hello-1.0.war

Fusing Image for hello-1.0.war ...
Image fused in 00:07.351s (48147 K) -> axelfontaine/hello:1.0</pre>

<p><strong>Supported Payload formats:</strong></p>

<ul>
    <li>Executable .jar file</li>
    <li>.war file</li>
</ul>

<p><br/><strong>Properties:</strong></p>

<table class="table">
    <thead>
    <tr>
        <th>Plugin Parameter</th>
        <th>Maven/System property</th>
        <th>Default</th>
        <th>Description</th>
    </tr>
    </thead>
    <tr>
        <td>user</td>
        <td>boxfuse.user</td>
        <td></td>
        <td><strong>Required</strong> - Your Boxfuse Client user</td>
    </tr>
    <tr>
        <td>secret</td>
        <td>boxfuse.secret</td>
        <td></td>
        <td><strong>Required</strong> - Your Boxfuse Client user</td>
    </tr>
    <tr>
        <td>payload</td>
        <td>boxfuse.payload</td>
        <td><em>The project artifact</em></td>
        <td>The Payload to use. Can be either a file, a directory or a URL.</td>
    </tr>
    <tr>
        <td>components</td>
        <td>boxfuse.components.<em>NAME</em></td>
        <td><em>latest version</em></td>
        <td>Pins the component with this name onto this version.<br/>
            Example: -components.tomcat=8.0.9
        </td>
    </tr>
    <tr>
        <td>debug</td>
        <td>boxfuse.debug</td>
        <td>false</td>
        <td>Start the Payload in debug mode when an Instance launches</td>
    </tr>
    <tr>
        <td>debug.wait</td>
        <td>boxfuse.debug.wait</td>
        <td>false</td>
        <td>Whether the JVM should wait for the remote debugger to connect (Only applicable when debug mode is active)</td>
    </tr>
    <tr>
        <td>healtcheck</td>
        <td>boxfuse.healtcheck</td>
        <td>true</td>
        <td>Check whether to payload started correctly</td>
    </tr>
    <tr>
        <td>healtcheck.path</td>
        <td>boxfuse.healtcheck.path</td>
        <td>/</td>
        <td>The path to check whether to payload started correctly</td>
    </tr>
    <tr>
        <td>healtcheck.timeout</td>
        <td>boxfuse.healtcheck.timeout</td>
        <td>60</td>
        <td>The number of seconds to wait for the Payload to come up</td>
    </tr>
    <tr>
        <td>jvm.args</td>
        <td>boxfuse.jvm.args</td>
        <td></td>
        <td>Extra arguments to pass to the JVM</td>
    </tr>
    <tr>
        <td>jvm.main.class</td>
        <td>boxfuse.jvm.main.class</td>
        <td><em>autodetected</em></td>
        <td>Main class to invoke on JVM startup</td>
    </tr>
    <tr>
        <td>jvm.main.args</td>
        <td>boxfuse.jvm.main.args</td>
        <td></td>
        <td>Arguments to pass to the main class</td>
    </tr>
    <tr>
        <td>mode</td>
        <td>boxfuse.mode</td>
        <td>prod</td>
        <td>Use dev to switch to dev mode for live Payload reloading on your local machine</td>
    </tr>
    <tr>
        <td>ports</td>
        <td>boxfuse.ports.<em>NAME</em></td>
        <td>http=80</td>
        <td>Maps the port of the app with this name onto this number.<br/>
            Example: boxfuse.ports.jmx=8001
        </td>
    </tr>
</table>

<p><strong>Sample Configuration</strong></p>

<pre class="prettyprint">&lt;configuration&gt;
    &lt;user&gt;1234567890abcdef1234567890abcdef12345678&lt;/user&gt;
    &lt;secret&gt;ABCDEFGHIJKL1234567abcdefghijklmnopqrstu&lt;/secret&gt;
    &lt;payload&gt;hello-1.0.war&lt;/payload&gt;
    &lt;components&gt;
        &lt;openjdk&gt;8.25.40&lt;/openjdk&gt;
        &lt;tomcat&gt;8.0.20&lt;/tomcat&gt;
    &lt;/components&gt;
    &lt;debug&gt;true&lt;/debug&gt;
    &lt;debug.wait&gt;false&lt;/debug.wait&gt;
    &lt;healthcheck&gt;true&lt;/healtcheck&gt;
    &lt;healthcheck.path&gt;/health&lt;/healtcheck.path&gt;
    &lt;healthcheck.timeout&gt;120&lt;/healtcheck.timeout&gt;
    &lt;jvm.args&gt;-DmycustomProp=abc&lt;/jvm.args&gt;
    &lt;jvm.main.class&gt;com.mycorp.MyApp&lt;/jvm.main.class&gt;
    &lt;jvm.main.args&gt;-abc -def&lt;/jvm.main.args&gt;
    &lt;mode&gt;dev&lt;/mode&gt;
    &lt;ports&gt;
        &lt;https&gt;443&lt;/https&gt;
        &lt;http&gt;80&lt;/http&gt;
    &lt;/ports&gt;
&lt;/configuration&gt;</pre>

<p class="next-steps">
    <a class="btn btn-primary" href="/docs/maven/ls.html">ls <i class="fa fa-arrow-right"></i></a>
</p>