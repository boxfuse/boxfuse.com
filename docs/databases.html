---
layout: docs
menu: databases
subtitle: 'Databases'
---
<div id="databases">
    <p><img src="/assets/img/postgresql.png"></p>

    <p>Boxfuse is able to <strong>automatically provision PostgreSQL databases</strong> both locally and on AWS RDS.
        Boxfuse exposes
        the database URL, user and password as environment variables within the application instances. And if your
        application is based on <a href="/docs/payloads/springboot">Spring Boot</a>,
        <a href="/docs/payloads/grails">Grails</a>,
        <a href="/docs/payloads/play">Play</a> or
        <a href="/docs/payloads/dropwizard">Dropwizard</a>, Boxfuse will automatically configure your frameworks's
        default datasource with those settings.</p>

    <p>This is a great fit for
        microservices that follow the <a href="http://microservices.io/patterns/data/database-per-service.html">database
            per service</a>:</p>

    <div class="center">
        <img src="/assets/posts/databases/database-per-service.png" alt="Database per service"
             title="Database per service">
    </div>

    <h2>dev environment</h2>
    <p>Locally on your machine, for your <a href="/docs/environments">dev environment</a> Boxfuse installs and launches
        a dev VM that contains a
        fully-configured PostgreSQL database. The PostgreSQL service from that VM is then exposed to your app by mapping
        its port.</p>
    <div class="center">
        <img src="/assets/img/dev-vm.png">
    </div>

    <h2>test and prod environments</h2>
    <p>On AWS, for your <a href="/docs/environments">test and prod environment</a> Boxfuse <strong>automatically
        provisions
        either single- or multi-AZ RDS instances</strong> for your application.</p>
    <div class="center">
        <img src="/assets/img/rds.png">
    </div>

    <p>To ensure your infrastructure can survive in the face of failure, Boxfuse can make your RDS database highly
        available
        by provisioning a <strong>continuously replicated geo-redundant hot standby spare instance</strong> that's ready
        take over in case the primary one fails.</p>

    <p>To achieve this you can simply scale your database in the <a href="https://console.boxfuse.com">Boxfuse
        Console</a>:
    </p>

    <img class="screenshot" src="/assets/posts/databases/multiaz.png">

    <h2 id="envvars">Environment Variables</h2>

    <p>Boxfuse automatically exposes the correct database URL, user and password for the database of your app in the current
    environment as environment variables within your instance:</p>


    <table class="table table-striped">
        <thead>
        <tr>
            <th>Environment Variable Name</th>
            <th>Description</th>
            <th>Example</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>BOXFUSE_DATABASE_URL</code></td>
            <td>The JDBC URL</td>
            <td style="word-break: break-all">jdbc:postgresql://my-app-prod-db.ca53c5vrhrzn.eu-central-1.rds.amazonaws.com:5432/my_app_db?ssl=true</td>
        </tr>
        <tr>
            <td><code>BOXFUSE_DATABASE_USER</code></td>
            <td>The database user</td>
            <td style="word-break: break-all">kgbdvfcbweikgewVBZUWKSVBvwzwkvbVIVW</td>
        </tr>
        <tr>
            <td><code>BOXFUSE_DATABASE_PASSWORD</code></td>
            <td>The database password</td>
            <td style="word-break: break-all">OIHQGikugfdieweqwfgUFuDuzkDtERwTSCHJdfIZtdziDjZdtTIdZTUtDSdikdfOULOpOiHhiUGIOgOiGFOFfUI</td>
        </tr>
        </tbody>
    </table>

    <h2>Security</h2>

    <p>The user provided has superuser privileges.</p>

    <p>All JDBC URLs are designed for SSL connections. Boxfuse ships with RDS certificates out of the box.</p>

    <h2>Auto-configuration</h2>
    <p>If your
    application is based on <a href="/docs/payloads/springboot">Spring Boot</a>,
    <a href="/docs/payloads/grails">Grails</a>,
    <a href="/docs/payloads/play">Play</a> or
    <a href="/docs/payloads/dropwizard">Dropwizard</a>, Boxfuse will automatically configure your frameworks's
    default datasource with the correct database driver class name, URL, user and password.</p>
    <p class="next-steps">
        <a class="btn btn-primary" href="/docs/travisci">Travis CI <i class="fa fa-arrow-right"></i></a>
    </p>
</div>