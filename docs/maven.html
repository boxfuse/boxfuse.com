---
layout: docs
menu: maven
subtitle: 'Maven plugin'
---
<div id="getstarted-maven">
    <p class="doc-title">Maven plugin</p>

    <p>The Boxfuse Maven plugin lets you execute the various commands directly from your Maven build.</p>

    <p class="doc-section">Supported Maven versions</p>

    <ul>
        <li>Maven 3.0 or newer</li>
    </ul>

    <p class="doc-section">Prerequisites</p>

    <ul>
        <li>Boxfuse Account</li>
        <li>Working Java 6+ installation</li>
        <li>Working VirtualBox installation (for VirtualBox deployments)</li>
        <li>AWS Account (for AWS deployments)</li>
    </ul>

    <p class="doc-section">Configuration</p>

    <p>Boxfuse is opinionated, favors <strong>convention over configuration</strong> and comes with <strong>sensible
        defaults</strong>.</p>

    <p>You can override these defaults by either configuring the plugin, adding Maven properties or passing in System properties.</p>

    <p>System properties <em>override</em> Maven properties <em>which themselves override</em>
        the plugin configuration.</p>

    <p class="doc-section">Commands</p>
    <p class="doc-section">versions</p>

    <p>Lists all versions of a specific <em>Component</em> available in the <em>Boxfuse Component Inventory</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:versions -Dboxfuse.component=&lt;component&gt;</p>

    <pre class="console">&gt; mvn boxfuse:versions -Dboxfuse.component=tomcat

Available tomcat versions
-------------------------
8.0.9
8.0.8
7.0.55
7.0.53
7.0.47
7.0.42</pre>

    <p class="doc-section">fuse</p>

    <p>Fuses your <em>App</em> together with the <em>Components</em> it requires into a <em>Bootable App</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:fuse</p>

    <pre class="console">&gt; mvn boxfuse:fuse

Generating Bootable App for sample.war ...
Bootable App generated (48157 K) in 00:05.901s -> ba-5e72abf5a</pre>

    <p><strong>Supported App formats:</strong></p>

    <ul>
        <li>Executable .jar file</li>
        <li>.war file</li>
    </ul>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>payload</td>
            <td>boxfuse.payload</td>
            <td><em>the project artifact</em></td>
            <td>The Payload to fuse in a Bootable App</td>
        </tr>
        <tr>
            <td>components</td>
            <td>boxfuse.components.<em>NAME</em></td>
            <td><em>latest</em></td>
            <td>Pins the component with this name onto this version.<br/>
                Example: -Dboxfuse.components.tomcat=8.0.9</td>
        </tr>
        <tr>
            <td>ports</td>
            <td>boxfuse.ports.<em>NAME</em></td>
            <td>http=80</td>
            <td>Maps the port of the app with this name onto this number.<br/>
                Example: -Dboxfuse.ports.jmx=8001</td>
        </tr>
    </table>

    <p class="doc-section">ls</p>

    <p>Lists all available <em>Bootable Apps</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:ls</p>

    <pre class="console">&gt; mvn boxfuse:ls

Available Bootable Apps:
+--------------+------+------------+-------+---------+--------------+------------+---------+---------------------+
| Bootable App | Mode |  Payload   | Debug |  Java   |  AppServer   |   Ports    |  Size   |    Generated at     |
+--------------+------+------------+-------+---------+--------------+------------+---------+---------------------+
| ba-5e72abf5a | PROD | sample.war | false | 8.20.26 | Tomcat 8.0.9 | http -> 80 | 48157 K | 2014-10-10 12:32:54 |
+--------------+------+------------+-------+---------+--------------+------------+---------+---------------------+
Total: 1</pre>

    <p class="doc-section">rm</p>

    <p>Removes a <em>Bootable App</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:rm -Dboxfuse.bootableapp=&lt;bootable app&gt;</p>

    <pre class="console">&gt; mvn boxfuse:rm -Dboxfuse.bootableapp=ba-5e72abf5a

Destroying Bootable App ba-5e72abf5a ...
ba-5e72abf5a destroyed in 00:00.015s</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>bootableapp</td>
            <td>boxfuse.bootableapp</td>
            <td></td>
            <td>The Bootable App to remove</td>
        </tr>
    </table>

    <p class="doc-section">convert</p>

    <p>Converts a <em>Bootable App</em> into a <em>Platform</em>-specific <em>Image</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:convert -Dboxfuse.bootableapp=&lt;bootable app&gt;</p>

    <pre class="console">&gt; boxfuse convert -Dboxfuse.bootableapp=ba-5e72abf5a -Dboxfuse.platform=aws

Uploading ba-5e746e945 (48157 KB) to S3 bucket boxfuse-766686188748-eu-west-1 ...
48157 KB remaining ...
25834 KB remaining ...
1418 KB remaining ...
ba-5e746e945 uploaded at 6708 KB/s
Registering hvm-is AMI for Bootable App ba-5e746e945 ...
Registered AMI for Bootable App ba-5e746e945 on AWS (eu-west-1) -> ami-eea30e99 (hvm-is)</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>bootableapp</td>
            <td>boxfuse.bootableapp</td>
            <td></td>
            <td></td>
            <td>The Bootable App to convert</td>
        </tr>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
        <tr>
            <td>aws.bucket</td>
            <td>boxfuse.aws.bucket</td>
            <td>aws</td>
            <td><em>auto-created</em></td>
            <td>The S3 bucket to use for uploading AMIs</td>
        </tr>
        <tr>
            <td>aws.amitype</td>
            <td>boxfuse.aws.amitype</td>
            <td>aws</td>
            <td>hvm-is</td>
            <td>The type of AMIs to convert a Bootable App into<br/>
                Choices: pv-is, pv-ebs, hvm-is, hvm-ebs</td>
        </tr>
    </table>

    <p class="doc-section">lsi</p>

    <p>Lists all available <em>Images</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:lsi</p>

    <pre class="console">&gt; mvn boxfuse:lsi -Dboxfuse.platform=aws

Images on AWS (eu-west-1):
+--------------+--------------+---------+
|    Image     | Bootable App |  Type   |
+--------------+--------------+---------+
| ami-de288fa9 | ba-5804f93e7 | hvm-ebs |
| ami-eea30e99 | ba-5e746e945 | hvm-is  |
+--------------+--------------+---------+
Total: 2</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="doc-section">rmi</p>

    <p>Removes an <em>Image</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:rmi -Dboxfuse.image=&lt;image&gt;</p>

    <pre class="console">&gt; mvn boxfuse:rmi -Dboxfuse.image=ami-abcd1234 -Dboxfuse.platform=aws

Deregistering ami-abcd1234 for Bootable App ba-5e746e945 ...</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>image</td>
            <td>boxfuse.image</td>
            <td></td>
            <td></td>
            <td>The Image to remove</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="doc-section">run</p>

    <p>Runs an <em>Instance</em> of an <em>Image</em> on a specific <em>Platform</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:run</p>

    <pre class="console">&gt; mvn boxfuse:run -Dboxfuse.image=ami-52399425 -Dboxfuse.platform=aws

Creating Security Group boxfuse-securitygroup-ba-5e746e945 ...
Launching Instance of ba-5e746e945 on AWS (eu-west-1) ...
Instance launched in 00:16.302s -> i-c3775080
Waiting for Payload to start on Instance i-c3775080 ...
Payload started in 00:12.374s -> http://54.77.254.3</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>image</td>
            <td>boxfuse.image</td>
            <td></td>
            <td></td>
            <td>The Image to use</td>
        </tr>
        <tr>
            <td>cpu</td>
            <td>boxfuse.cpus</td>
            <td>virtualbox</td>
            <td><em>same as host</em></td>
            <td>The number of CPUs to assign to an Instance</td>
        </tr>
        <tr>
            <td>ram</td>
            <td>boxfuse.ram</td>
            <td>virtualbox</td>
            <td>1024</td>
            <td>The amount of RAM in MB to assign to an Instance</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
        <tr>
            <td>aws.bucket</td>
            <td>boxfuse.aws.bucket</td>
            <td>aws</td>
            <td><em>auto-created</em></td>
            <td>For Apps &amp; Bootable Apps only<br/>The S3 bucket to use for uploading AMIs</td>
        </tr>
        <tr>
            <td>aws.amitype</td>
            <td>boxfuse.aws.amitype</td>
            <td>aws</td>
            <td>hvm-is</td>
            <td>For Apps &amp; Bootable Apps only<br/>
                The type of AMIs to convert a Bootable App into<br/>
                Choices: pv-is, pv-ebs, hvm-is, hvm-ebs</td>
        </tr>
        <tr>
            <td>aws.instancetype</td>
            <td>boxfuse.aws.instancetype</td>
            <td>aws</td>
            <td>m3.medium</td>
            <td>The type of instance to launch on AWS</td>
        </tr>
    </table>

    <p class="doc-section">ps</p>

    <p>Lists all running <em>Instances</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:ps</p>

    <pre class="console">&gt; mvn boxfuse:ps -Dboxfuse.platform=aws

Running Instances on AWS (eu-west-1):
+------------+--------------+--------------+-----------+-----------------------+---------------------+
|  Instance  | Bootable App |     AMI      |   Type    |          URL          |     Launched at     |
+------------+--------------+--------------+-----------+-----------------------+---------------------+
| i-b1e3a3e2 | ba-5804f93e7 | ami-de288faa | t2.micro  | https://54.77.131.178 | 2014-09-20 13:19:17 |
| i-79cce82b | ba-5804f93e7 | ami-de288faa | t2.micro  | https://54.76.228.218 | 2014-09-20 13:19:17 |
| i-c3775080 | ba-5e746e945 | ami-52399425 | m3.medium | http://54.77.254.3    | 2014-10-12 23:14:03 |
+------------+--------------+--------------+-----------+-----------------------+---------------------+
Total: 3</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="doc-section">kill</p>

    <p>Gracefully kill an <em>Instance</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:kill -Dboxfuse.instance=&lt;instance&gt;</p>

    <pre class="console">&gt; mvn boxfuse:kill -Dboxfuse.instance=i-c3775080 -Dboxfuse.platform=aws

Destroying Instance i-c3775080 on AWS (eu-west-1) ...
Instance destroyed in 00:23.637s
Destroying Security Group boxfuse-securitygroup-ba-5e746e945 ...
Deregistering ami-52399425 for Bootable App ba-5e746e945 ...
Destroying Bootable App ba-5e746e945 ...
ba-5e746e945 destroyed in 00:00.011s</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>instance</td>
            <td>boxfuse.instance</td>
            <td></td>
            <td></td>
            <td>The Instance to kill</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="doc-section">open</p>

    <p>Opens a web browser pointing at the https or http port of an <em>Instance</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:open -Dboxfuse.instance=&lt;instance&gt;</p>

    <pre class="console">&gt; mvn boxfuse:open -Dboxfuse.instance=vb-5f3cf9387

Launching default browser to access Instance 'vb-5f3cf9387' (Url: http://127.0.0.1:8888) ...</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>instance</td>
            <td>boxfuse.instance</td>
            <td></td>
            <td></td>
            <td>The Instance to use</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="doc-section">logs</p>

    <p>Display the console logs of an <em>Instance</em>.</p>

    <p><strong>Usage: </strong> mvn boxfuse:logs -Dboxfuse.instance=&lt;instance&gt;</p>

    <pre class="console">&gt; mvn boxfuse:logs -Dboxfuse.instance=vb-5f3cf9387

init started: BusyBox v1.22.1 (2014-07-16 12:38:11 UTC)
starting pid 521, tty '': '/etc/init.d/rcS'
udhcpc (v1.22.1) started
Setting IP address 0.0.0.0 on eth0
Sending discover...
Sending select for 10.0.2.15...
Lease of 10.0.2.15 obtained, lease time 86400
Setting IP address 10.0.2.15 on eth0
Adding router 10.0.2.2
Recreating /etc/resolv.conf
 Adding DNS server 192.168.0.1

******************************************************************************

boxfuse is in the house!

Bootable App
------------
Id         : ba-5f3cf2085
Payload    : boxfuse.demo.war
Type       : War
Checksum   : 71c13856
Debug      : false
Strace     : false
Ports      : http -> 80

Instance
--------
Id         : vb-5f3cf9387
JVM Heap   : 795M
IP Address : 10.0.2.15

Environment
-----------
BOOT_IMAGE=efi/boot/bootx64.efi
BOXFUSE_COMPONENTS_BUSYBOX=1.22.1.01
BOXFUSE_COMPONENTS_CACERTS=2014.07.03
BOXFUSE_COMPONENTS_GLIBC=2.20
BOXFUSE_COMPONENTS_LINUX=3.15.9
BOXFUSE_COMPONENTS_OPENJDK=8.20.26
BOXFUSE_COMPONENTS_TOMCAT=8.0.9
BOXFUSE_HOST_IP=192.168.0.15
BOXFUSE_INSTANCE_ID=vb-5f3cf9387
BOXFUSE_INSTANCE_IP=10.0.2.15
HOME=/
LD_LIBRARY_PATH=/lib/x86_64-linux-gnu
PATH=/sbin:/bin
PWD=/
SHELL=/bin/sh
TERM=vt102
USER=root
initrd=initrd.gz
vga=extended

******************************************************************************

Launching App ...
/openjdk/bin/java -d64 -Xms10m -Xmx795m -Djavax.net.ssl.trustStore=/cacerts/cacerts -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djdk.reflect.allowGetCallerClass=true -cp "/tomcat/bin/*" org.apache.catalina.startup.Bootstrap
Oct 12, 2014 9:28:31 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-nio-80"]
Oct 12, 2014 9:28:31 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector
INFO: Using a shared selector for servlet write/read
Oct 12, 2014 9:28:31 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 290 ms
Oct 12, 2014 9:28:31 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Oct 12, 2014 9:28:31 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/8.0.9
Oct 12, 2014 9:28:31 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deploying web application archive /tomcat/webapps/ROOT.war
Oct 12, 2014 9:28:31 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deployment of web application archive /tomcat/webapps/ROOT.war has finished in 210 ms
Oct 12, 2014 9:28:31 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-nio-80"]
Oct 12, 2014 9:28:31 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 250 ms</pre>

    <p><br/><strong>Properties:</strong></p>

    <table class="table">
        <thead>
        <tr>
            <th>Plugin Parameter</th>
            <th>Maven/System property</th>
            <th>Platforms</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tr>
            <td>platform</td>
            <td>boxfuse.platform</td>
            <td></td>
            <td>virtualbox</td>
            <td>The Platform to use<br/>
                Choices: virtualbox | aws</td>
        </tr>
        <tr>
            <td>instance</td>
            <td>boxfuse.instance</td>
            <td></td>
            <td></td>
            <td>The Instance to use</td>
        </tr>
        <tr>
            <td>aws.region</td>
            <td>boxfuse.aws.region</td>
            <td>aws</td>
            <td>eu-west-1</td>
            <td>The AWS region to use</td>
        </tr>
    </table>

    <p class="next-steps">
        <a class="btn btn-primary" href="/#contact">Get notified when we launch <i class="fa fa-arrow-right"></i></a>
    </p>
</div>