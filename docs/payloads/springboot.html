---
layout: docs
menu: springboot
subtitle: 'Spring Boot'
---
<div id="springboot">
    <p><img src="/assets/img/springboot.png"></p>

    <p>Boxfuse supports <strong>Spring Boot 1.2.x or newer</strong> Apps packaged as a <strong>Spring Boot Executable Jar</strong> using either <strong>OpenJDK 7.x or 8.x</strong>.</p>

    <p class="alert alert-info"><strong>Tip:</strong> Check out our <a href="/blog/spring-boot-ec2.html"><strong>blog post</strong></a> on how to
        create a Spring Boot application and deploy it on EC2 using Boxfuse</p>

    <p id="configuration" class="doc-section">Configuration</p>

    <p>By default Boxfuse looks for a <code>/application-boxfuse.properties</code> file <em>inside</em> the Spring Boot jar file
        and <strong>runs your app with the Spring profile <code>boxfuse</code></strong> activated by default.</p>

    <p>If you use Maven or Gradle, this means the <code>application-boxfuse.properties</code> file should be put into the <code>src/main/resources</code> directory.
        When the Spring Boot Maven or Gradle plugin packages the executable jar, it will include it in the root of your class path, where Boxfuse can see it.</p>

    <p>Boxfuse parses <strong><code>application-boxfuse.properties</code></strong> and <strong>automatically configures the ports and the healthcheck</strong> based on the
    information it contains.</p>

    <p>If no <code>application-boxfuse.properties</code> is found at the root of the jar file, Boxfuse uses the following defaults:</p>

    <pre class="prettyprint">server.port=80
management.health.diskspace.enabled=false</pre>

    <h2>Ports</h2>

    <p>Boxfuse will automatically configure your application ports to be either <code>HTTP</code>
        or <code>HTTPS</code> based on the value of <code>server.ssl.enabled</code>. The actual port numbers are automatically
        configured according to the values of the <code>server.port</code> and <code>management.port</code> properties.</p>

    <h2>Healthchecks</h2>

    <p>If your application also includes the Spring Boot Actuator, Boxfuse will <strong>automatically configures its healthcheck
        to match the Spring Boot health endpoint</strong>. The only requirement is that if you provide your own configuration,
    you must set <code>management.health.diskspace.enabled</code> to <code>false</code>.</p>

    <h2 id="profiles">Spring Profiles</h2>

    <p>By default Boxfuse activates a Spring Profile called <code>boxfuse</code>. You can however easily specify a different
    profile by setting the <code>SPRING_PROFILES_ACTIVE</code> environment variable to the value you need using the
        <a href="/docs/commandline/run.html#envvars">envvars</a> argument.</p>

    <p class="alert alert-info"><strong>Tip:</strong> To use a different Spring Profile for each <a href="/docs/environments.html">Boxfuse environment</a>,
    set the Spring Boot profile to the value of the <code>BOXFUSE_ENV</code> environment variable which contains the name of the
        current <a href="/docs/environments.html">environment</a> (dev, test, prod): <code>envvars.SPRING_PROFILES_ACTIVE=$BOXFUSE_ENV</code></p>

    <h2>SSL (TLS) / HTTPS</h2>

    <p>To use <strong>HTTPS</strong> simply add the KeyStore containing your SSL certificate at the root of the classpath
        <em>inside</em> the Spring Boot jar file. Boxfuse will automatically extract all <code>.jks</code> and <code>.keystore</code>
        files it finds to the same directory on the file system as your Spring Boot jar file.</p>

    <p>If you use Maven or Gradle, this means your <code>.jks</code> or <code>.keystore</code> KeyStore file should be put into the <code>src/main/resources</code> directory.
        When Maven or Gradle packages the jar, it will include it in the root of your Spring Boot jar file, where Boxfuse can see it.</p>

    <p>You can then configure the Spring Boot connector to use it. So if for example
        you have a KeyStore named <code>/example.jks</code> inside your Spring Boot jar file,
        <code>application-boxfuse.properties</code> should look like this:</p>

    <pre class="prettyprint">server.port=443
server.ssl.enabled=true
server.ssl.key-store=example.jks
server.ssl.key-store-password=myS3cr3tPwd</pre>

    <h2>Root Certificates</h2>

    <p>By default, Boxfuse uses the <strong>same root certificate bundle as the latest version of Firefox</strong>.
        You can, however, ship your own set of root certificates, by placing them in a KeyStore inside the Jar file as <code>/cacerts</code>.
        Boxfuse will then automatically configure the JRE to use these instead.
    </p>

    <p>If you choose to secure your <code>cacerts</code> TrustStore with a password different than the default <code>changeit</code>,
        you have to add the following to your Spring Boot configuration:</p>

    <pre class="prettyprint">server.ssl.trust-store=/cacerts/cacerts
server.ssl.trust-store-password=my0th3rPwd</pre>

    <h2>Java Agents</h2>

    <p>If you wish to launch the JRE with one or more Java Agents, simply place the Java Agent Jar files inside the Jar file under
        <code>/javaagents/</code>. Boxfuse will then <strong>automatically configure the JRE to use these Java Agents</strong>.
    </p>

    <p class="next-steps">
        <a class="btn btn-primary" href="/docs/payloads/dropwizard.html">Dropwizard <i class="fa fa-arrow-right"></i></a>
    </p>
</div>