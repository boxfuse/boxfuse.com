---
layout: docs
menu: play
subtitle: 'Play'
---
<div id="play">
    <p><img src="/assets/img/play.png"></p>

    <p>Boxfuse supports <strong>Play 2.3.x or newer</strong> Apps packaged as a <strong>Play dist Zip</strong> using either <strong>OpenJDK 7.x or 8.x</strong>.</p>

    <h2>Get Started</h2>

    <p>If you haven't already, start by following <strong><a href="/getstarted/play">Play &amp; Boxfuse tutorial</a></strong> that will get you <strong>up and running in 5-10 minutes</strong>.</p>

    <h2>Evolutions</h2>

    <p>If you choose to use Play Evolutions to migrate your database schema (as opposed to <a href="http://flywaydb.org">Flyway</a>) you have to ensure evolutions
        are applied automatically to prevent application startup issues.</p>
    <p>For Play 2.3.x, set <code>applyEvolutions.&lt;database&gt=true</code> in your Play config (<a href="https://www.playframework.com/documentation/2.3.x/Evolutions#Running-Evolutions-in-Production">reference docs</a>).</p>
    <p>For Play 2.4.x and newer, set <code>play.evolutions.autoApply=true</code> in your Play config (<a href="https://www.playframework.com/documentation/2.4.x/Evolutions#Evolutions-configuration">reference docs</a>).</p>

    <h2 id="configuration">Configuration</h2>

    <p>By default Boxfuse looks for an <code>application.conf</code> file <em>inside</em> the Play dist zip file.
        You can find this file in the <code>/conf</code> directory of your project:</p>

    <pre class="filetree"><i class="fa fa-folder-open"></i> my-play-app
  <i class="fa fa-folder-open"></i> conf
    <span><i class="fa fa-file-text"></i> application.conf</span></pre>

    <p>Boxfuse parses <strong><code>application.conf</code></strong> and <strong>automatically configures the http &amp; https ports, the payload path and the healthcheck path</strong> based on the
        following config parameters: <code>play.server.http.port</code>, <code>play.server.https.port</code> and <code>play.http.context</code>.</p>

    <h2 id="alternative-config">Alternative Play config files</h2>

    <p>By default, Play loads the <code>application.conf</code> file in the <code>conf</code> directory of your app.</p>
        <p>You can however tell play to use alternative config files by passing in a JVM system property. So for:
    </p>

    <pre class="filetree"><i class="fa fa-folder-open"></i> my-play-app
  <i class="fa fa-folder-open"></i> conf
    <i class="fa fa-file-text"></i> application.conf
    <span><i class="fa fa-file-text"></i> other.conf</span></pre>

    <p>You could then launch your Boxfuse instance with <code>-jvm.args=-Dconfig.resource=other.conf</code> to load the
    alternate Play config file called <code>other.conf</code> in the conf directory of your application.</p>

    <p><strong>Note:</strong> these files must be present at the time you invoke <code>activator dist</code>.
        Also keep in mind that <a href="#configuration">Boxfuse auto-configuration</a> only works with the regular <code>application.conf</code> file.</p>

    <h2>Overriding Play configuration</h2>

    <p>As an alternative to overriding the entire configure you can also selectively override individual configuration properties
    on instance launch.</p>

    <h3>Using JVM system properties</h3>
    <p>The first option is to use JVM system properties. For example: <code>-jvm.args=-Dplay.crypto.secret=abcdefghijk</code></p>

    <p>More info in the <a href="https://www.playframework.com/documentation/2.4.x/ProductionConfiguration#Overriding-configuration-with-system-properties">official Play documentation</a>.</p>

    <h3>Using environment variables</h3>
    <p>Play also gives you the opportunity to override configuration properties using environment variables. Say if you have
    defined <code>my.key = ${?MY_KEY_ENV}</code> in your Play configuration file, you can now override it on instance launch
    using <code>-envvars.MY_KEY_ENV=myvalue</code></p>

    <p>More info in the <a href="https://www.playframework.com/documentation/2.4.x/ProductionConfiguration#Using-environment-variables">official Play documentation</a>.</p>

    <h2>Databases</h2>

    <p>When using the <a href="/docs/databases">Boxfuse database auto-provisioning support</a>, Boxfuse automatically configures Play's DataSource
        to use the correct driver class name, jdbc url, user and password.</p>

    <p>If your app includes the PostgreSQL JDBC driver, Boxfuse will automatically provision the necessary PostgreSQL database
        in each environment and trigger the Dropwizard DataSource auto-configuration. This can be disabled by setting
        <code>dbtype</code> to <code>none</code> when <a href="/docs/commandline/create#dbtype">creating your app</a>.</p>

    <h2>Root Certificates</h2>

    <p>By default, Boxfuse uses the <strong>same root certificate bundle as the latest version of Firefox</strong>.
        Additionally Boxfuse also includes the <strong>root certificates for Amazon RDS</strong>, so you can connect securely to RDS databases out of the box.</p>
    <p>You can, however, ship your own set of root certificates, by placing them in a KeyStore inside the Zip file as <code>/conf/cacerts</code>.
        If you use SBT or Typesafe Activator, this means your <code>cacerts</code> KeyStore file should be put into the <code>conf</code> directory.
        Boxfuse will then automatically configure the JRE to use these instead.
    </p>

    <pre class="filetree"><i class="fa fa-folder-open"></i> my-play-app
  <i class="fa fa-folder-open"></i> conf
    <span><i class="fa fa-file"></i> cacerts</span></pre>

    <p>If you choose to secure your <code>cacerts</code> TrustStore with a password different than the default <code>changeit</code>,
        you have to add the following to your Spring Boot configuration:</p>

    <pre class="prettyprint">play.ws.ssl {
  trustManager = {
      stores = [
        { path: /cacerts/cacerts, password = "my0th3rPwd" }
      ]
  }
}</pre>

    <h2 id="javaagents">Java Agents</h2>

    <p>If you wish to launch the JRE with one or more Java Agents, simply place the Java Agent files inside the Zip file under
        <code>/conf/javaagents/</code>. In a SBT or Typesafe Activator project this means you have to put your agent jar and whatever other files it requires under <code>conf/javaagents</code>:</p>
    <pre class="filetree"><i class="fa fa-folder-open"></i> my-play-app
  <i class="fa fa-folder-open"></i> conf
    <span><i class="fa fa-folder-open"></i> javaagents
  <i class="fa fa-file"></i> myjavaagent.jar
  <i class="fa fa-file-text"></i> myjavaagent.properties</span></pre>

    <p>Boxfuse will then <strong>automatically configure the JRE to use these Java Agents</strong></p>

    <h2>JVM Memory</h2>

    <p>By default Boxfuse will <strong>dynamically configure your JVM heap to use 85% of the available memory</strong> in the instance. All other settings
    use the JVM defaults. You can override this by specifying the required JVM arguments like <code>-Xmx</code> via the
    <code>jvm.args</code> configuration setting.</p>

    <h2>Temporary Files</h2>

    <p>Boxfuse configures the JVM to use <code>/tmp</code> as the directory to store temporary files and provisions <strong>1 GB of space by default</strong>.</p>
    <p>To increase this (up to a maximum of 16 TB), simply set
        the <code>tmp</code> configuration setting to the number of GB of temp space you need. To prevent Boxfuse from
        provisioning any temp space set <code>tmp</code> to <code>0</code>.</p>

    <p class="next-steps">
        <a class="btn btn-primary" href="/docs/payloads/tomcat">Tomcat <i class="fa fa-arrow-right"></i></a>
    </p>
</div>