---
layout: commandline
pill: run
---
<img src="/assets/img/commands/run.png" alt="run">

<h2>run</h2>

<p>Runs one or more <em>Instances</em> of this <em>Image</em> in the specified <a
        href="/docs/environments">environment</a> (on your machine or on AWS).</p>

<p>All necessary resources (Elastic IPs, ELBs, Security Groups, Auto-Scaling Groups, Databases, ...) will be provisioned
    automatically if they don't already exist. Already running applications will be updated with zero-downtime
    blue/green deployments.</p>

<p><strong>Usage: </strong> boxfuse run <em>payload | image</em> -env=<em>environment</em></p>

<pre class="console">&gt; boxfuse run hello:1.0

Launching Instance of axelfontaine/hello:1.0 on VirtualBox ...
Forwarding http port localhost:8888 -> vb-ec717c5e:80
Instance launched in 00:04.006s -> vb-ec717c5e
Waiting for Payload to start on Instance vb-ec717c5e ...
Payload started in 00:08.786s -> http://127.0.0.1:8888</pre>

<p><strong>Note:</strong>
    When neither a payload (jar/war/zip/tgz file) nor an image is specified, Boxfuse will automatically search for a
    compatible payload to fuse within the current directory. If the command is executed at the root of a Maven, Gradle or SBT project,
    the output directory of that project will be automatically scanned as well.
</p>

<p><strong>Arguments:</strong></p>

<table class="table">
    <thead>
    <tr>
        <th>Name</th>
        <th>Default</th>
        <th>Description</th>
    </tr>
    </thead>
    <tr>
        <td>-cpus=...</td>
        <td><em>same as host</em></td>
        <td><p><i>VirtualBox only</i></p>The number of CPUs to assign to an Instance</td>
    </tr>
    <tr>
        <td>-debug</td>
        <td>false</td>
        <td>Start the Payload in <a href="/docs/debugging">debug mode</a> when an Instance launches</td>
    </tr>
    <tr>
        <td>-debug.wait</td>
        <td>false</td>
        <td><p><i>JVM apps only</i></p>Whether the JVM should wait for the remote debugger to connect (Only applicable when <a href="/docs/debugging">debug mode</a> is active)
        </td>
    </tr>
    <tr id="env">
        <td>-env=dev<em>|</em>test<em>|</em>prod</td>
        <td>dev</td>
        <td>Use the AWS test or prod <a href="/docs/environments">environments</a> instead of the local dev one</td>
    </tr>
    <tr id="envvars">
        <td>-envvars.<em>NAME</em>=<em>value</em></td>
        <td></td>
        <td>Passes this environment variable into the Instance<br/>
            Example: -envvars.JDBC_URL=jdbc:mydburl
        </td>
    </tr>
    <tr>
        <td>-healthcheck</td>
        <td>true</td>
        <td>Check whether to payload started correctly</td>
    </tr>
    <tr>
        <td>-healthcheck.port=...</td>
        <td><em>autodetected</em></td>
        <td>The port to check whether to payload started correctly</td>
    </tr>
    <tr>
        <td>-healthcheck.path=...</td>
        <td>/</td>
        <td>The path to check whether to payload started correctly</td>
    </tr>
    <tr id="healthcheck.timeout">
        <td>-healthcheck.timeout=...</td>
        <td>60</td>
        <td>The number of seconds to wait for the Payload to come up</td>
    </tr>
    <tr id="jvm.args">
        <td>-jvm.args=...</td>
        <td></td>
        <td><p><i>JVM apps only</i></p>Extra arguments to pass to the JVM</td>
    </tr>
    <tr id="jvm.jmx">
        <td>-jvm.jmx</td>
        <td>false</td>
        <td><p><i>JVM apps only</i></p>Enable the JMX remote <a href="/docs/profiling">management and profiling</a> interface for the JVM</td>
    </tr>
    <tr>
        <td>-jvm.main.class=...</td>
        <td><em>autodetected</em></td>
        <td><p><i>JVM apps only</i></p>Main class to invoke on JVM startup</td>
    </tr>
    <tr id="jvm.main.args">
        <td>-jvm.main.args=...</td>
        <td></td>
        <td><p><i>JVM apps only</i></p>Arguments to pass to the main class</td>
    </tr>
    <tr>
        <td>-logs</td>
        <td>true</td>
        <td>Logs may slow down the Instance. Set to false to disable. (VirtualBox on Windows only)</td>
    </tr>
    <tr>
        <td>-logs.auto</td>
        <td>true</td>
        <td>Whether to automatically display the instance logs on startup</td>
    </tr>
    <tr>
        <td>-logs.dir=...</td>
        <td></td>
        <td>The directory where the logs should be redirected to</td>
    </tr>
    <tr id="logs.tail">
        <td>-logs.tail</td>
        <td>false</td>
        <td><p><i>VirtualBox only</i></p>Tail (keep running with live updates) the logs</td>
    </tr>
    <tr id="ports">
        <td>-ports.<em>NAME</em>=<em>definition</em></td>
        <td>http=80</td>
        <td><p>Exposes the port of the app with this name using this definition. Example: -ports.jmx=8001</p>

            <p>Supported formats:</p>
            <table class="table table-striped">
                <tr>
                    <td><code>80</code></td>
                    <td>TCP port 80, universally accessible</td>
                </tr>
                <tr>
                    <td><code>80/tcp</code></td>
                    <td>TCP port 80, universally accessible</td>
                </tr>
                <tr>
                    <td><code>80/udp</code></td>
                    <td>UDP port 80, universally accessible</td>
                </tr>
                <tr>
                    <td><code>80/tcp:@</code></td>
                    <td>TCP port 80 only accessible from your own IP</td>
                </tr>
                <tr>
                    <td><code>80/udp:@/20</code></td>
                    <td>UDP port 80 only accessible from the IPs in the CIDR /20 block of your own IP</td>
                </tr>
                <tr>
                    <td><code>80/udp:1.2.3.4</code></td>
                    <td>UDP port 80 only accessible from 1.2.3.4</td>
                </tr>
                <tr>
                    <td><code>80/tcp:1.2.3.4/31</code></td>
                    <td>TCP port 80 only accessible from the IPs in the CIDR /31 block of 1.2.3.4</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr id="portsmap">
        <td>
            <nobr>-portsmap.<em>NAME</em>=<em>definition</em></nobr>
        </td>
        <td><em>same as matching image port</em></td>
        <td><p><i>VirtualBox only</i></p>
            <p>The local ports to map to the app inside the instance. By default Boxfuse will attempt to open the same
                port
                locally as has been opened in the VirtualBox VM. On Linux &amp; Mac privileged ports (&lt;1024) will be
                opened at 10000
                + the port number for non-root users.<br>
                The ports will be mapped by name (ex.: http) to the ports specified by the Image.</p>
            <p>Example:</p>
            <table class="table table-striped">
                <tr>
                    <th>Image port</th>
                    <th>Default local mapped port</th>
                </tr>
                <tr>
                    <td><code>http=80</code></td>
                    <td>
                        <code>http=80</code> (Windows &amp; Mac/Linux when Boxfuse is running as root)<br>
                        <code>http=10080</code> (Mac/Linux when Boxfuse is running as a regular user)
                    </td>
                </tr>
                <tr>
                    <td><code>https=8443</code></td>
                    <td><code>https=8443</code> (All OSes)</td>
                </tr>
                <tr>
                    <td><code>udpsrvc=12345/udp</code></td>
                    <td><code>udpsrvc=12345/udp</code> (All OSes)</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>-ram=...</td>
        <td>1024</td>
        <td><p><i>VirtualBox only</i></p><p>The amount of RAM in MB to assign to an Instance (VirtualBox only)</p></td>
    </tr>
    <tr id="tmp">
        <td>-tmp=...</td>
        <td>1</td>
        <td>The amount of temp space to allocate to /tmp in GB</td>
    </tr>
</table>

<p class="next-steps">
    <a class="btn btn-primary" href="/docs/commandline/scale">scale <i class="fa fa-arrow-right"></i></a>
</p>