---
layout: getstarted
menu: play
subtitle: 'Get Started with Boxfuse & Play'
---
<div id="play">
    <p><img src="/assets/img/play.png"></p>
    <p>&nbsp;</p>

    <p>This tutorial will get you started with Boxfuse and Play. It should take you about <strong>5-10 minutes</strong> to complete.</p>

    <h2>Prerequisites</h2>
    <p>Before you begin, ensure you have successfully:</p>
    <ol>
        <li>created a <strong><a href="https://console.boxfuse.com">Boxfuse Account</a></strong> (simply log in with your GitHub account, it's free)</li>
        <li>downloaded and installed the latest <strong><a href="/getstarted/download">Boxfuse Client</a></strong></li>
        <li>downloaded and installed the latest <strong><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK</a></strong> with <code>JAVA_HOME</code> set up correctly</li>
        <li>downloaded and installed the latest <strong><a href="https://www.typesafe.com/activator/download">Typesafe Activator</a></strong></li>
        <li>downloaded and installed the latest version of <strong><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a></strong></li>
    </ol>

    <h2>Creating the Play application</h2>

    <p>Start by creating a Play Scala application using the Typesafe Activator:</p>

    <pre class="console"><span>&gt;</span> activator new hello play-scala</pre>

    <p>And navigate to the newly created directory:</p>

    <pre class="console"><span>&gt;</span> cd hello</pre>

    <p>Then set the version in <code>build.sbt</code> to 1.0:</p>

    <pre class="prettyprint">version := "1.0"</pre>

    <p>Finally build a distribution zip:</p>

    <pre class="console"><span>hello&gt;</span> activator dist</pre>

    <p>Great. Your Play application distribution zip is now available under <code>target/universal/hello-1.0.zip</code>.</p>

    <h2>Fusing a Boxfuse image and running it locally on VirtualBox</h2>

    <p>Now it's time to fuse your application into a Boxfuse image and launch an instance of it on VirtualBox:</p>

    <pre class="console"><span>hello&gt;</span> boxfuse run</pre>

    <p>This command will run for a few seconds. During this time, Boxfuse will find your application, detect its type,
    generating an image for it and launch it on VirtualBox. When it completes you should see a message like this:</p>

    <pre class="console">Payload started in 00:06.688s -> http://127.0.0.1:10080</pre>

    <p>Now open your browser and navigate to this address to see your new application up and running within the VirtualBox VM:</p>

    <img class="screenshot" src="/assets/img/getstarted/play-virtualbox.png">

    <p>You can also see your newly created image:</p>

    <pre class="console"><span>hello&gt;</span> boxfuse ls

Images available locally:
+------------------+---------------+-------+---------+-----------+------------+---------+---------------------+
| Image            |    Payload    | Debug |  Java   | AppServer |   Ports    |  Size   |    Generated at     |
+------------------+---------------+-------+---------+-----------+------------+---------+---------------------+
| myuser/hello:1.0 | hello-1.0.jar | false | 8.60.22 | Play      | http -> 80 | 75950 K | 2015-11-12 14:57:50 |
+------------------+---------------+-------+---------+-----------+------------+---------+---------------------+
Total: 1</pre>

    <p>As well as the instance that is running:</p>

    <pre class="console"><span>hello&gt;</span> boxfuse ps

Running Instances on VirtualBox in the dev environment :
+-------------+------------------+---------------------+------------------------+---------------------+
|  Instance   |      Image       |        Type         |           URL          |     Launched at     |
+-------------+------------------+---------------------+------------------------+---------------------+
| vb-b18d6746 | myuser/hello:1.0 | 4 CPU / 1024 MB RAM | http://127.0.0.1:10080 | 2015-11-12 14:57:56 |
+-------------+------------------+---------------------+------------------------+---------------------+
Total: 1</pre>

    <div class="marketing-testimonial-stripe marketing-testimonial-stripe-docs"></div>

    <div class="marketing-testimonial marketing-testimonial-docs">
        <div class="row">
            <div class="col-md-3">
                <img src="/assets/photos/tzofiashiftan.jpg" class="img-circle">
            </div>
            <div class="col-md-9">
                <div>
                    <blockquote>Weâ€™ve decided to deploy our Play application to AWS using Boxfuse
                        which was perfect for this need. A super quick deployment of a Play
                        application to an AWS instance (also requires an AWS account of
                        course). Without the overhead of all the usual setup and
                        configuration.
                    </blockquote>
                    <p>from <a href="http://blog.takipi.com/how-we-used-slack-scala-and-play-to-automate-our-lunch-order/">"How We Used Slack, Scala and Play to Automate Our Lunch
                        Order"</a><br> by <strong><a href="https://twitter.com/tzofias">Tzofia Shiftan</a></strong>, Full-stack team lead, Takipi</p>
                </div>
            </div>
        </div>
    </div>

    <h2>Deploying your application to AWS</h2>

    <p>Now let's deploy the image to AWS. As Boxfuse works with your AWS account, it first needs the necessary permissions to do so.
        So if you haven't already done it, go to the Boxfuse Console and <strong><a href="https://console.boxfuse.com/#/awsAccount">connect your AWS account</a></strong> now.</p>

    <p>Every new Boxfuse account comes with 3 environments: <code>dev</code>, <code>test</code> and <code>prod</code>.
        <code>dev</code> is your local VirtualBox environment and <code>test</code> and <code>prod</code> are on AWS.</p>

    <p>So let's deploy our application to the <code>prod</code> environment on AWS:</p>

    <pre class="console"><span>hello&gt;</span> boxfuse run hello:1.0 -env=prod

Pushing myuser/hello:1.0 ...
Verifying myuser/hello:1.0 ...
Waiting for AWS to create an AMI for myuser/hello:1.0 in eu-central-1 (this may take up to 50 seconds) ...
AMI created in 00:34.394s in eu-central-1 -> ami-ed988b81
Creating Elastic IP ...
Mapping hello-myuser.boxfuse.io to 52.28.107.167 ...
Creating security group boxsg-myuser-prod-hello-1.0 ...
Launching t2.micro instance of myuser/hello:1.0 (ami-ed988b81) in prod (eu-central-1) ...
Instance launched in 00:26.922s -> i-5de042e1
Waiting for AWS to boot Instance i-5de042e1 and Payload to start at http://52.28.121.55/ ...
Payload started in 00:51.516s -> http://52.28.121.55/
Remapping Elastic IP 52.28.107.167 to i-5de042e1 ...
Waiting 15s for AWS to complete Elastic IP Zero Downtime transition ...
Deployment completed successfully. myuser/hello:1.0 is up and running at http://hello-myuser.boxfuse.io/</pre>

    <p>Notice that we have now specified an image, as we want to reuse our image unchanged instead fusing a new one.</p>

    <p>With that one command Boxfuse has automatically pushed your image to the Boxfuse Vault as well as provisioned,
    configured and secured all necessary AWS resources. There is no manual work necessary on your behalf.</p>

    <p>All you need to do is simply navigate to your new domain to see your Play application in action on AWS:</p>

    <img class="screenshot" src="/assets/img/getstarted/play-aws.png">

    <h2>Bonus: update your application using blue/green deployments</h2>

    <p>Now let's take things one step further and deploy an update of your application with <strong>zero downtime</strong>.</p>

    <p>Start by modifying <code>app/controllers/Application.scala</code> with a simple change:</p>
    <pre class="prettyprint">package controllers

import play.api._
import play.api.mvc._

class Application extends Controller {
  def index = Action {
    Ok(views.html.index("Updated by Boxfuse with zero downtime!"))
  }
}</pre>

    <p>then bump the version in <code>build.sbt</code>:</p>

    <pre class="prettyprint">version := "1.1"</pre>

    <p>and rebuild the dist:</p>

    <pre class="console"><span>hello&gt;</span> activator clean dist</pre>

    <p>Finally, deploy the new version of your application to AWS:</p>

    <pre class="console"><span>hello&gt;</span> boxfuse run -env=prod

Fusing Image for hello-1.1.zip ...
Image fused in 00:09.817s (75949 K) -> myuser/hello:1.1
Pushing myuser/hello:1.1 ...
Verifying myuser/hello:1.1 ...
Waiting for AWS to create an AMI for myuser/hello:1.1 in eu-central-1 (this may take up to 50 seconds) ...
AMI created in 00:34.152s in eu-central-1 -> ami-8b988be7
Creating security group boxsg-myuser-prod-hello-1.1 ...
Launching t2.micro instance of myuser/hello:1.1 (ami-8b988be7) in prod (eu-central-1) ...
Instance launched in 00:35.372s -> i-ebea4857
Waiting for AWS to boot Instance i-ebea4857 and Payload to start at http://52.29.129.239/ ...
Payload started in 01:05.316s -> http://52.29.129.239/
Remapping Elastic IP 52.28.107.167 to i-ebea4857 ...
Waiting 15s for AWS to complete Elastic IP Zero Downtime transition ...
Terminating instance i-5de042e1 ...
Destroying Security Group sg-48ea9921 ...
Deployment completed successfully. myuser/hello:1.1 is up and running at http://hello-myuser.boxfuse.io/</pre>

    <p>And there it is:</p>

    <img class="screenshot" src="/assets/img/getstarted/play-aws-update.png">

    <h2>Summary</h2>

    <p>In this brief guide we have seen how to:</p>
    <ul>
        <li>create a Play application</li>
        <li>fuse it into a Boxfuse image</li>
        <li>deploy the image locally on VirtualBox</li>
        <li>deploy the image unchanged to AWS</li>
        <li>update the application with zero downtime</li>
    </ul>

    <p>Now it's your turn. Take your favorite Play application and deploy it with ease and pleasure.</p>

    <p class="next-steps">
        <a class="btn btn-primary" href="/docs/payloads/play">Boxfuse Play Documentation <i class="fa fa-arrow-right"></i></a>
    </p>
</div>